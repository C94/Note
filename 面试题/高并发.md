#php解决高并发情况

##软件方面
	1.数据库要有好的架构，根据具体字段查询，少用*，避免相关子查询，添加索引，用排序取代非顺序存取

	2.服务器可以选用Nginx，内存消耗少，官方测试能都支持5万并发连接。
	  到2~3万并发连接数，php把不需要的模块尽量关闭，使用memcached，
	  Memcached是一个高性能的分布式内存对象缓存系统，不使用数据库直接从内存当中调用数据，提高速度。
	  IIS或Apache启用GZIP压缩优化网站，压缩网站的内容大大节省网站流量。

	3.禁止外部的盗链。
	  外部网站的图片或者文件盗链往往会带来大量的负载压力，目前可通过简单的refer来控制盗链，Apache自己就可以通过配置来禁止盗链，IIS也有一些第三方的ISAPI可以实现同样的功能。或者使用非技术手段来处理，添加水印。

	4.控制大文件下载
	  大文件下载会占用很大的流量，并且对于非SCSI硬盘来说。大量文件下载会消耗CPU，网站响应能力下降，因此，尽量不要提供超过2M的大文件下载，如果需要提供，把大文件放在另外一台服务器

	5.策略：为PHP安装加速器。
	代理服务器（缓存服务器）：
	Squid Cache（简称为Squid）是一个流行的自由软件（GNU通用公共许可证）的代理服务器和Web缓存服务器。Squid有广泛的用途，从作为网页服务器的前置cache服务器缓存相关请求来提高Web服务器的速度，到为一组人共享网络资源而缓存万维网，域名系统和其他网络搜索，到通过过滤流量帮助网络安全，到局域网通过代理网。Squid主要设计用于在Unix一类系统运行。
	策略：安装Squid 反向代理服务器，能够大幅度提高服务器效率。
	压力测试：压力测试是一种基本的质量保证行为，它是每个重要软件测试工作的一部分。压力测试的基本思路很简单：不是在常规条件下运行手动或自动测试，而是在计算机数量较少或系统资源匮乏的条件下运行测试。通常要进行压力测试的资源包括内部内存、CPU 可用性、磁盘空间和网络带宽等。一般用并发来做压力测试。
	压力测试工具：webbench，ApacheBench等
	漏洞测试：在我们的系统中漏洞主要包括：sql注入漏洞，xss跨站脚本攻击等。安全方面还包括系统软件，如操作系统漏洞，mysql、apache等的漏洞，一般可以通过升级来解决。
	漏洞测试工具：Acunetix Web Vulnerability Scanner
